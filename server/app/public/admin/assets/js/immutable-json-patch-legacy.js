System.register([],(function(t,e){"use strict";return{execute:function(){function e(t){return Array.isArray(t)}function n(t){return null!==t&&"object"==typeof t&&(void 0===t.constructor||"Object"===t.constructor.name)}function r(t,e){return t===e}function o(t){return t.slice(0,t.length-1)}function i(t){return"object"==typeof t&&null!==t}function c(t){if(e(t)){const e=t.slice();return Object.getOwnPropertySymbols(t).forEach((n=>{e[n]=t[n]})),e}if(n(t)){const e={...t};return Object.getOwnPropertySymbols(t).forEach((n=>{e[n]=t[n]})),e}return t}function f(t,e,n){if(t[e]===n)return t;{const r=c(t);return r[e]=n,r}}function u(t,r){let o=t,i=0;for(;i<r.length;)o=n(o)?o[r[i]]:e(o)?o[parseInt(r[i])]:void 0,i++;return o}function s(t,r,o){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===r.length)return o;const c=r[0],u=s(t?t[c]:void 0,r.slice(1),o,i);if(n(t)||e(t))return f(t,c,u);if(i){const t=p.test(c)?[]:{};return t[c]=u,t}throw new Error("Path does not exist")}t({a:function(t,e){return t+v(e)},b:e,c:y,d:m,e:d,f:function(t,e){return t.startsWith(e)&&(t.length===e.length||"/"===t[e.length])},g:u,h:function(t){return!(!t||"object"!=typeof t)&&"add"===t.op},i:n,j:function(t){return!(!t||"object"!=typeof t)&&"replace"===t.op},k:P,l:function(t){return!(!t||"object"!=typeof t)&&"remove"===t.op},m:function(t){return!(!t||"object"!=typeof t)&&"copy"===t.op},n:function(t){return!(!t||"object"!=typeof t)&&"move"===t.op},o:v,p:g,r:function(t,e,n){let o=[];return m(t,e,{before:(t,e)=>{let i;const c=P(t,e.path);if("add"===e.op)i=T(t,c);else if("remove"===e.op)i=k(t,c);else if("replace"===e.op)i=x(t,c);else if("copy"===e.op)i=function(t,e){return T(t,e)}(t,c);else if("move"===e.op)i=function(t,e,n){if(e.length<n.length&&function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;if(t.length<e.length)return!1;for(let r=0;r<e.length;r++)if(!n(t[r],e[r]))return!1;return!0}(n,e))return[{op:"replace",path:y(e),value:t}];const o={op:"move",from:y(e),path:y(n)};return!J(t,e)&&d(t,e)?[o,...k(t,e)]:[o]}(t,c,A(e.from));else{if("test"!==e.op)throw new Error("Unknown JSONPatch operation "+JSON.stringify(e));i=[]}let f;if(n&&n.before){const r=n.before(t,e,i);if(r&&r.revertOperations&&(i=r.revertOperations),r&&r.document&&(f=r.document),r&&r.json)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"')}if(o=i.concat(o),void 0!==f)return{document:f}}}),o},s:s});const p=/^\d+$/;function a(t,e,n){if(0===e.length)return n(t);if(!i(t))throw new Error("Path doesn't exist");const r=e[0];return f(t,r,a(t[r],e.slice(1),n))}function l(t,r){if(0===r.length)return t;if(!i(t))throw new Error("Path does not exist");if(1===r.length){const o=r[0];if(o in t){const r=c(t);return e(r)&&r.splice(parseInt(o),1),n(r)&&delete r[o],r}return t}const o=r[0];return f(t,o,l(t[o],r.slice(1)))}function h(t,e,n){const r=e.slice(0,e.length-1),o=e[e.length-1];return a(t,r,(t=>{if(!Array.isArray(t))throw new TypeError("Array expected at path "+JSON.stringify(r));const e=c(t);return e.splice(parseInt(o),0,n),e}))}function d(t,e){return void 0!==t&&(0===e.length||null!==t&&d(t[e[0]],e.slice(1)))}function g(t){const e=t.split("/");return e.shift(),e.map((t=>t.replace(/~1/g,"/").replace(/~0/g,"~")))}function y(t){return t.map(v).join("")}function v(t){return"/"+String(t).replace(/~/g,"~0").replace(/\//g,"~1")}function m(t,e,n){let r=t;for(let o=0;o<e.length;o++){N(e[o]);let t=e[o];if(n&&n.before){const e=n.before(r,t);if(void 0!==e){if(void 0!==e.document&&(r=e.document),void 0!==e.json)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"');void 0!==e.operation&&(t=e.operation)}}const i=r,c=P(r,t.path);if("add"===t.op)r=j(r,c,t.value);else if("remove"===t.op)r=b(r,c);else if("replace"===t.op)r=w(r,c,t.value);else if("copy"===t.op)r=O(r,c,A(t.from));else if("move"===t.op)r=E(r,c,A(t.from));else{if("test"!==t.op)throw new Error("Unknown JSONPatch operation "+JSON.stringify(t));S(r,c,t.value)}if(n&&n.after){const e=n.after(r,t,i);void 0!==e&&(r=e)}}return r}function w(t,e,n){return s(t,e,n)}function b(t,e){return l(t,e)}function j(t,e,n){return J(t,e)?h(t,e,n):s(t,e,n)}function O(t,e,n){const r=u(t,n);return J(t,e)?h(t,e,r):s(t,e,u(t,n))}function E(t,e,n){const r=u(t,n),o=l(t,n);return J(o,e)?h(o,e,r):s(o,e,r)}function S(t,e,n){if(void 0===n)throw new Error(`Test failed: no value provided (path: "${y(e)}")`);if(!d(t,e))throw new Error(`Test failed: path not found (path: "${y(e)}")`);const r=u(t,e);if(o=r,i=n,JSON.stringify(o)!==JSON.stringify(i))throw new Error(`Test failed, value differs (path: "${y(e)}")`);var o,i}function J(t,e){if(0===e.length)return!1;const n=u(t,o(e));return Array.isArray(n)}function N(t){if(!["add","remove","replace","copy","move","test"].includes(t.op))throw new Error("Unknown JSONPatch op "+JSON.stringify(t.op));if("string"!=typeof t.path)throw new Error('Required property "path" missing or not a string in operation '+JSON.stringify(t));if(("copy"===t.op||"move"===t.op)&&"string"!=typeof t.from)throw new Error('Required property "from" missing or not a string in operation '+JSON.stringify(t))}function P(t,e){return function(t,e){if("-"!==(n=e)[n.length-1])return e;var n;const r=o(e),i=u(t,r);return r.concat(i.length)}(t,g(e))}function A(t){return g(t)}function x(t,e){return[{op:"replace",path:y(e),value:u(t,e)}]}function k(t,e){return[{op:"add",path:y(e),value:u(t,e)}]}function T(t,e){return J(t,e)||!d(t,e)?[{op:"remove",path:y(e)}]:x(t,e)}}}}));
